# 日志查询常见问题 {#concept_dqy_nn3_bfb .concept}

## 如何在日志数据中搜索IP地址？ {#section_tdw_4n3_bfb .section}

在日志数据中搜索IP地址，支持全部匹配的方式检索。您可以直接在日志数据中直接搜索指定IP地址相关的日志信息，比如包含指定IP地址、过滤指定IP地址等。但是目前尚不支持部分匹配的方式检索，即不能直接搜索IP地址的一部分，因为小数点不是日志服务默认的分词项。如果需要的话，建议自行过滤，比如用SDK先下载数据，然后在代码里用正则或者用string.indexof等方法判断。

例如，在日志服务的Project中搜索条件如下。

```
not ip:121.42.0 not status:200 not 360jk not DNSPod-Monitor not status:302 not jiankongbao
        not 301 and status:403
```

搜索结果中仍会出现121.42.0网段地址。因为日志服务会认为121.42.0.x是一个词，所以只有搜121.42.0.x能搜到结果，而121.42.0的话不会搜到这个结果，同理加上not也就不会过滤该地址。

## 如何在日志中搜索包含空格的关键字？ {#section_ztb_qn3_bfb .section}

搜索包含空格的关键字时，如果直接搜索，则会得到包含空格左侧关键字或右侧关键字的所有日志。建议您在查询的包含空格的关键字时，把关键字用双引号包裹起来，将引号中的内容作为一个关键字进行搜索，搜索结果就是符合条件的日志内容。

例如，在以下日志中搜索包含关键字`POS version`的日志。

```
post():351]:&nbsp;device_id:&nbsp;BTAddr&nbsp;:&nbsp;B6:xF:xx:65:xx:A1&nbsp;IMEI&nbsp;:&nbsp;35847xx22xx81x9&nbsp;WifiAddr&nbsp;:&nbsp;4c:xx:0e:xx:4e:xx&nbsp;|&nbsp;user_id:&nbsp;bb07263xxd2axx43xx9exxea26e39e5f&nbsp;POS&nbsp;version:903
```

如果直接搜索`POS version`，则会得到包含`POS`或者`version`的所有日志，不符合搜索要求。如果搜索`"POS version"`，则会得到包含关键字`POS version`的所有日志。

## 如何完成双重条件检索？ {#section_l5x_sn3_bfb .section}

双重条件检索时，只需同时输入两个语句即可。

例如，需要在Logstore中搜索数据状态不是OK或者Unknown的日志。直接搜索`not OK not Unknown`即可得到符合条件的日志。

## 日志服务提供哪些渠道查询采集的日志？ {#section_zbn_tn3_bfb .section}

日志服务提供了三种方式查询日志：

1.  通过日志服务控制台查询。
2.  通过SDK查询。
3.  通过Restful API查询。

**日志服务提供什么样的查询能力？**

-   提供组合条件过滤查询，查询语法参见[查询语法](../../../../intl.zh-CN/用户指南/查询与分析/查询语法与功能/查询语法.md)。
-   能够提供单次查询10亿/S日志的能力。用户可以根据一定的条件筛选出需要的日志，读取命中日志在时间维度上的分布，或者拿到原始日志。
-   查询提供了cache的功能，第二次查询相同的条件获得更加完整的查询结果。

**日志查询有什么限制？**

-   最多能够查询30个词组成的组合条件。
-   单次查询结果最多获取100行原始数据，可以通过翻页下载更多日志。
-   单次查询1秒内可以处理10亿行数据。

